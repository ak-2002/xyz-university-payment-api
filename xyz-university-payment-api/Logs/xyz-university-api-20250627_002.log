2025-06-27 09:49:50.337 +03:00 [FTL] Application terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\wanja\Desktop\XYZ\xyz-university-payment-api\Program.cs:line 172
2025-06-27 09:51:14.381 +03:00 [INF] Starting XYZ University Payment API {"MachineName":"DESKTOP-F3AMJ10","ThreadId":4,"ProcessId":16160,"Application":"XYZ University Payment API"}
2025-06-27 09:51:14.686 +03:00 [FTL] Application terminated unexpectedly {"MachineName":"DESKTOP-F3AMJ10","ThreadId":4,"ProcessId":16160,"Application":"XYZ University Payment API"}
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: xyz_university_payment_api.Interfaces.IAuthorizationService Lifetime: Scoped ImplementationType: xyz_university_payment_api.Services.AuthorizationService': A circular dependency was detected for the service of type 'xyz_university_payment_api.Interfaces.IAuthorizationService'.
xyz_university_payment_api.Interfaces.IAuthorizationService(xyz_university_payment_api.Services.AuthorizationService) -> xyz_university_payment_api.Interfaces.IJwtTokenService(xyz_university_payment_api.Services.JwtTokenService) -> xyz_university_payment_api.Interfaces.IAuthorizationService) (Error while validating the service descriptor 'ServiceType: xyz_university_payment_api.Interfaces.IJwtTokenService Lifetime: Scoped ImplementationType: xyz_university_payment_api.Services.JwtTokenService': A circular dependency was detected for the service of type 'xyz_university_payment_api.Interfaces.IJwtTokenService'.
xyz_university_payment_api.Interfaces.IJwtTokenService(xyz_university_payment_api.Services.JwtTokenService) -> xyz_university_payment_api.Interfaces.IAuthorizationService(xyz_university_payment_api.Services.AuthorizationService) -> xyz_university_payment_api.Interfaces.IJwtTokenService)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: xyz_university_payment_api.Interfaces.IAuthorizationService Lifetime: Scoped ImplementationType: xyz_university_payment_api.Services.AuthorizationService': A circular dependency was detected for the service of type 'xyz_university_payment_api.Interfaces.IAuthorizationService'.
xyz_university_payment_api.Interfaces.IAuthorizationService(xyz_university_payment_api.Services.AuthorizationService) -> xyz_university_payment_api.Interfaces.IJwtTokenService(xyz_university_payment_api.Services.JwtTokenService) -> xyz_university_payment_api.Interfaces.IAuthorizationService
 ---> System.InvalidOperationException: A circular dependency was detected for the service of type 'xyz_university_payment_api.Interfaces.IAuthorizationService'.
xyz_university_payment_api.Interfaces.IAuthorizationService(xyz_university_payment_api.Services.AuthorizationService) -> xyz_university_payment_api.Interfaces.IJwtTokenService(xyz_university_payment_api.Services.JwtTokenService) -> xyz_university_payment_api.Interfaces.IAuthorizationService
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteChain.CheckCircularDependency(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\wanja\Desktop\XYZ\xyz-university-payment-api\Program.cs:line 181
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: xyz_university_payment_api.Interfaces.IJwtTokenService Lifetime: Scoped ImplementationType: xyz_university_payment_api.Services.JwtTokenService': A circular dependency was detected for the service of type 'xyz_university_payment_api.Interfaces.IJwtTokenService'.
xyz_university_payment_api.Interfaces.IJwtTokenService(xyz_university_payment_api.Services.JwtTokenService) -> xyz_university_payment_api.Interfaces.IAuthorizationService(xyz_university_payment_api.Services.AuthorizationService) -> xyz_university_payment_api.Interfaces.IJwtTokenService
 ---> System.InvalidOperationException: A circular dependency was detected for the service of type 'xyz_university_payment_api.Interfaces.IJwtTokenService'.
xyz_university_payment_api.Interfaces.IJwtTokenService(xyz_university_payment_api.Services.JwtTokenService) -> xyz_university_payment_api.Interfaces.IAuthorizationService(xyz_university_payment_api.Services.AuthorizationService) -> xyz_university_payment_api.Interfaces.IJwtTokenService
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteChain.CheckCircularDependency(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-06-27 09:51:45.458 +03:00 [INF] Starting XYZ University Payment API {"MachineName":"DESKTOP-F3AMJ10","ThreadId":4,"ProcessId":18008,"Application":"XYZ University Payment API"}
2025-06-27 09:51:45.711 +03:00 [FTL] Application terminated unexpectedly {"MachineName":"DESKTOP-F3AMJ10","ThreadId":4,"ProcessId":18008,"Application":"XYZ University Payment API"}
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: xyz_university_payment_api.Interfaces.IAuthorizationService Lifetime: Scoped ImplementationType: xyz_university_payment_api.Services.AuthorizationService': A circular dependency was detected for the service of type 'xyz_university_payment_api.Interfaces.IAuthorizationService'.
xyz_university_payment_api.Interfaces.IAuthorizationService(xyz_university_payment_api.Services.AuthorizationService) -> xyz_university_payment_api.Interfaces.IJwtTokenService(xyz_university_payment_api.Services.JwtTokenService) -> xyz_university_payment_api.Interfaces.IAuthorizationService) (Error while validating the service descriptor 'ServiceType: xyz_university_payment_api.Interfaces.IJwtTokenService Lifetime: Scoped ImplementationType: xyz_university_payment_api.Services.JwtTokenService': A circular dependency was detected for the service of type 'xyz_university_payment_api.Interfaces.IJwtTokenService'.
xyz_university_payment_api.Interfaces.IJwtTokenService(xyz_university_payment_api.Services.JwtTokenService) -> xyz_university_payment_api.Interfaces.IAuthorizationService(xyz_university_payment_api.Services.AuthorizationService) -> xyz_university_payment_api.Interfaces.IJwtTokenService)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: xyz_university_payment_api.Interfaces.IAuthorizationService Lifetime: Scoped ImplementationType: xyz_university_payment_api.Services.AuthorizationService': A circular dependency was detected for the service of type 'xyz_university_payment_api.Interfaces.IAuthorizationService'.
xyz_university_payment_api.Interfaces.IAuthorizationService(xyz_university_payment_api.Services.AuthorizationService) -> xyz_university_payment_api.Interfaces.IJwtTokenService(xyz_university_payment_api.Services.JwtTokenService) -> xyz_university_payment_api.Interfaces.IAuthorizationService
 ---> System.InvalidOperationException: A circular dependency was detected for the service of type 'xyz_university_payment_api.Interfaces.IAuthorizationService'.
xyz_university_payment_api.Interfaces.IAuthorizationService(xyz_university_payment_api.Services.AuthorizationService) -> xyz_university_payment_api.Interfaces.IJwtTokenService(xyz_university_payment_api.Services.JwtTokenService) -> xyz_university_payment_api.Interfaces.IAuthorizationService
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteChain.CheckCircularDependency(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\wanja\Desktop\XYZ\xyz-university-payment-api\Program.cs:line 181
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: xyz_university_payment_api.Interfaces.IJwtTokenService Lifetime: Scoped ImplementationType: xyz_university_payment_api.Services.JwtTokenService': A circular dependency was detected for the service of type 'xyz_university_payment_api.Interfaces.IJwtTokenService'.
xyz_university_payment_api.Interfaces.IJwtTokenService(xyz_university_payment_api.Services.JwtTokenService) -> xyz_university_payment_api.Interfaces.IAuthorizationService(xyz_university_payment_api.Services.AuthorizationService) -> xyz_university_payment_api.Interfaces.IJwtTokenService
 ---> System.InvalidOperationException: A circular dependency was detected for the service of type 'xyz_university_payment_api.Interfaces.IJwtTokenService'.
xyz_university_payment_api.Interfaces.IJwtTokenService(xyz_university_payment_api.Services.JwtTokenService) -> xyz_university_payment_api.Interfaces.IAuthorizationService(xyz_university_payment_api.Services.AuthorizationService) -> xyz_university_payment_api.Interfaces.IJwtTokenService
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteChain.CheckCircularDependency(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-06-27 09:55:13.581 +03:00 [INF] Starting XYZ University Payment API {"MachineName":"DESKTOP-F3AMJ10","ThreadId":4,"ProcessId":19952,"Application":"XYZ University Payment API"}
