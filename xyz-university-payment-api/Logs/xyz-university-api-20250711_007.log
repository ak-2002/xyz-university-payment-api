2025-07-11 09:53:23.533 +03:00 [INF] Ensuring database is created
2025-07-11 09:53:24.033 +03:00 [INF] Database created successfully
2025-07-11 09:53:24.037 +03:00 [INF] Seeding default roles and permissions
2025-07-11 09:53:24.364 +03:00 [INF] Valid data already seeded, skipping seeding process
2025-07-11 09:53:24.368 +03:00 [INF] Default roles and permissions seeded successfully
2025-07-11 09:53:24.501 +03:00 [INF] XYZ University Payment API started successfully
2025-07-11 09:53:24.599 +03:00 [INF] Configured endpoint PaymentMessage, Consumer: xyz_university_payment_api.Core.Application.Services.PaymentMessageConsumer
2025-07-11 09:53:24.606 +03:00 [INF] Configured endpoint PaymentFailedMessage, Consumer: xyz_university_payment_api.Core.Application.Services.PaymentFailedMessageConsumer
2025-07-11 09:53:24.859 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2025-07-11 09:55:15.830 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-11 09:55:15.830 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-11 09:55:15.898 +03:00 [INF] Total users in database: 11
2025-07-11 09:55:15.898 +03:00 [INF] Total users in database: 11
2025-07-11 09:55:15.975 +03:00 [INF] Returning 11 users
2025-07-11 09:55:15.975 +03:00 [INF] Returning 11 users
2025-07-11 09:55:19.212 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:55:19.270 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:55:19.354 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:55:19.372 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:55:30.713 +03:00 [INF] Deleting student V3 with ID: 8, Permanent: false
2025-07-11 09:55:30.722 +03:00 [INF] Deleting student with ID: 8, Force: false
2025-07-11 09:55:30.751 +03:00 [WRN] Cannot delete active student: S660066. Use force=true to override.
2025-07-11 09:55:30.760 +03:00 [ERR] Error deleting student with ID: 8
System.InvalidOperationException: Cannot delete active student S660066. Use force=true to override.
   at xyz_university_payment_api.Core.Application.Services.StudentService.DeleteStudentAsync(Int32 id, Boolean force) in C:\Users\wanja\Desktop\jj\xyz-university-payment-api\xyz-university-payment-api\Core\Application\Services\StudentService.cs:line 227
2025-07-11 09:55:30.782 +03:00 [ERR] Error deleting student V3 with ID: 8
xyz_university_payment_api.Core.Domain.Exceptions.DatabaseException: Database operation failed: Failed to delete student with ID 8
 ---> System.InvalidOperationException: Cannot delete active student S660066. Use force=true to override.
   at xyz_university_payment_api.Core.Application.Services.StudentService.DeleteStudentAsync(Int32 id, Boolean force) in C:\Users\wanja\Desktop\jj\xyz-university-payment-api\xyz-university-payment-api\Core\Application\Services\StudentService.cs:line 227
   --- End of inner exception stack trace ---
   at xyz_university_payment_api.Core.Application.Services.StudentService.DeleteStudentAsync(Int32 id, Boolean force) in C:\Users\wanja\Desktop\jj\xyz-university-payment-api\xyz-university-payment-api\Core\Application\Services\StudentService.cs:line 237
   at xyz_university_payment_api.Core.Application.Services.StudentService.DeleteStudentV3Async(Int32 id, Boolean permanent) in C:\Users\wanja\Desktop\jj\xyz-university-payment-api\xyz-university-payment-api\Core\Application\Services\StudentService.cs:line 839
2025-07-11 09:55:30.805 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:55:30.820 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:55:51.134 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:55:51.150 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:55:51.169 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:55:51.184 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:55:56.357 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-11 09:55:56.357 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-11 09:55:56.376 +03:00 [INF] Total users in database: 11
2025-07-11 09:55:56.376 +03:00 [INF] Total users in database: 11
2025-07-11 09:55:56.401 +03:00 [INF] Returning 11 users
2025-07-11 09:55:56.401 +03:00 [INF] Returning 11 users
2025-07-11 09:56:17.617 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:56:17.649 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:56:17.671 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:56:17.686 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:57:07.210 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-11 09:57:07.228 +03:00 [INF] Total users in database: 11
2025-07-11 09:57:07.232 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-11 09:57:07.254 +03:00 [INF] Total users in database: 11
2025-07-11 09:57:07.262 +03:00 [INF] Returning 11 users
2025-07-11 09:57:07.264 +03:00 [INF] Returning 11 users
2025-07-11 09:57:30.081 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:57:30.100 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:57:30.118 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:57:30.136 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:58:48.212 +03:00 [INF] Creating student V3: S660099
2025-07-11 09:58:48.220 +03:00 [INF] Creating new student: S660099
2025-07-11 09:58:48.228 +03:00 [WRN] Student validation failed: Program must be one of: CS, IT, ACC, SOCIOLOGY, ENGINEERING, MEDICINE
2025-07-11 09:58:48.232 +03:00 [ERR] Error creating student V3: S660099
xyz_university_payment_api.Core.Domain.Exceptions.ValidationException: Validation failed. Please check the provided data.
   at xyz_university_payment_api.Core.Application.Services.StudentService.CreateStudentAsync(Student student) in C:\Users\wanja\Desktop\jj\xyz-university-payment-api\xyz-university-payment-api\Core\Application\Services\StudentService.cs:line 144
   at xyz_university_payment_api.Core.Application.Services.StudentService.CreateStudentV3Async(CreateStudentDtoV3 createStudentDto) in C:\Users\wanja\Desktop\jj\xyz-university-payment-api\xyz-university-payment-api\Core\Application\Services\StudentService.cs:line 726
2025-07-11 09:58:48.256 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-11 09:59:31.092 +03:00 [INF] Creating student V3: S660099
2025-07-11 09:59:31.099 +03:00 [INF] Creating new student: S660099
2025-07-11 09:59:31.161 +03:00 [INF] Student created successfully: S660099
2025-07-11 09:59:31.169 +03:00 [WRN] Pattern-based cache removal not fully implemented for pattern: students_v3_*
2025-07-11 09:59:31.173 +03:00 [WRN] Pattern-based cache removal not fully implemented for pattern: student_v3_*
2025-07-11 09:59:31.191 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:59:31.232 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:59:42.409 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:59:42.424 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-11 09:59:42.456 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:59:42.461 +03:00 [INF] Retrieving all payments with student information
2025-07-11 09:59:42.474 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:59:42.484 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:59:42.500 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:59:42.511 +03:00 [INF] Retrieved 6 payments for Admin
2025-07-11 09:59:42.526 +03:00 [INF] Retrieved 9 students for lookup
2025-07-11 09:59:42.536 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-11 09:59:42.543 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-11 09:59:42.550 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-11 09:59:42.557 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-11 09:59:42.566 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-11 09:59:42.575 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-11 09:59:42.604 +03:00 [INF] Returning 6 payment DTOs
2025-07-11 09:59:42.643 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-11 09:59:42.648 +03:00 [INF] Retrieving all payments with student information
2025-07-11 09:59:42.653 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:59:42.659 +03:00 [INF] Retrieved 6 payments for Admin
2025-07-11 09:59:42.668 +03:00 [INF] Retrieved 9 students for lookup
2025-07-11 09:59:42.674 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-11 09:59:42.678 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-11 09:59:42.687 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-11 09:59:42.693 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-11 09:59:42.699 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-11 09:59:42.705 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-11 09:59:42.709 +03:00 [INF] Returning 6 payment DTOs
2025-07-11 09:59:44.040 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:59:44.060 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:59:44.082 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:59:44.109 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:59:45.066 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:59:45.070 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-11 09:59:45.107 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:59:45.107 +03:00 [INF] Retrieving all payments with student information
2025-07-11 09:59:45.132 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:59:45.139 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 09:59:45.141 +03:00 [INF] Retrieved 6 payments for Admin
2025-07-11 09:59:45.171 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:59:45.175 +03:00 [INF] Retrieved 9 students for lookup
2025-07-11 09:59:45.188 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-11 09:59:45.193 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-11 09:59:45.203 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-11 09:59:45.209 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-11 09:59:45.217 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-11 09:59:45.224 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-11 09:59:45.229 +03:00 [INF] Returning 6 payment DTOs
2025-07-11 09:59:45.238 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-11 09:59:45.243 +03:00 [INF] Retrieving all payments with student information
2025-07-11 09:59:45.254 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 09:59:45.268 +03:00 [INF] Retrieved 6 payments for Admin
2025-07-11 09:59:45.275 +03:00 [INF] Retrieved 9 students for lookup
2025-07-11 09:59:45.286 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-11 09:59:45.291 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-11 09:59:45.296 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-11 09:59:45.304 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-11 09:59:45.308 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-11 09:59:45.315 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-11 09:59:45.321 +03:00 [INF] Returning 6 payment DTOs
2025-07-11 10:00:21.561 +03:00 [INF] V3 CreatePayment endpoint called with reference: REF0099
2025-07-11 10:00:21.573 +03:00 [INF] Processing payment: REF0099 for student: S660099
2025-07-11 10:00:21.609 +03:00 [INF] Payment processed successfully: REF0099
2025-07-11 10:00:21.619 +03:00 [INF] Publishing payment processed message: REF0099
2025-07-11 10:00:21.719 +03:00 [INF] Successfully published payment processed message: REF0099
2025-07-11 10:00:21.740 +03:00 [INF] Processing payment message: REF0099 for student: S660099
2025-07-11 10:00:21.741 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-11 10:00:21.741 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 10:00:21.758 +03:00 [INF] Retrieving all payments with student information
2025-07-11 10:00:21.763 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 10:00:21.770 +03:00 [INF] Sending payment receipt email to awkiiru@usiu.ac.ke for payment REF0099
2025-07-11 10:00:21.773 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 10:00:21.785 +03:00 [INF] Email Subject: Payment Receipt - REF0099
2025-07-11 10:00:21.787 +03:00 [INF] Retrieved 7 payments for Admin
2025-07-11 10:00:21.791 +03:00 [INF] Email Content: XYZ UNIVERSITY - PAYMENT RECEIPT
================================

Dear Keith Wanyonyi,

Thank you for your payment. Please find your receipt details below:

Receipt Number: REF0099
Date: 11/07/2025
Time: 00:00:00
Student Number: S660099
Amount Paid: $6500.00
Payment Method: M-Pesa
Transaction ID: N/A
Receipt Number: N/A

Notes: No additional notes

This receipt serves as proof of payment. Please keep it for your records.

If you have any questions, please contact the finance office.

Best regards,
XYZ University Finance Department
Email: finance@xyzuniversity.edu
Phone: +254-XXX-XXX-XXX

Generated on: 11/07/2025 07:00:21 UTC
2025-07-11 10:00:21.794 +03:00 [INF] Retrieved 9 students for lookup
2025-07-11 10:00:21.801 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-11 10:00:21.805 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-11 10:00:21.810 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-11 10:00:21.816 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-11 10:00:21.821 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-11 10:00:21.826 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-11 10:00:21.831 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-11 10:00:21.837 +03:00 [INF] Returning 7 payment DTOs
2025-07-11 10:00:21.897 +03:00 [INF] Payment receipt email sent successfully to awkiiru@usiu.ac.ke
2025-07-11 10:00:21.903 +03:00 [INF] Payment receipt email sent successfully for payment: REF0099
2025-07-11 10:00:21.906 +03:00 [INF] Sending payment confirmation email to awkiiru@usiu.ac.ke for payment REF0099
2025-07-11 10:00:21.909 +03:00 [INF] Email Subject: Payment Confirmation - REF0099
2025-07-11 10:00:21.913 +03:00 [INF] Email Content: XYZ UNIVERSITY - PAYMENT CONFIRMATION
====================================

Dear Keith Wanyonyi,

Your payment has been successfully processed and confirmed.

Payment Details:
- Reference: REF0099
- Amount: $6500.00
- Date: 11/07/2025
- Method: M-Pesa

Your student account has been updated accordingly.

Thank you for your prompt payment.

Best regards,
XYZ University Finance Department
2025-07-11 10:00:22.025 +03:00 [INF] Payment confirmation email sent successfully to awkiiru@usiu.ac.ke
2025-07-11 10:00:22.030 +03:00 [INF] Payment confirmation email sent successfully for payment: REF0099
2025-07-11 10:01:46.718 +03:00 [INF] V3 CreatePayment endpoint called with reference: REF0199
2025-07-11 10:01:46.725 +03:00 [INF] Processing payment: REF0199 for student: S660099
2025-07-11 10:01:46.748 +03:00 [INF] Payment processed successfully: REF0199
2025-07-11 10:01:46.753 +03:00 [INF] Publishing payment processed message: REF0199
2025-07-11 10:01:46.764 +03:00 [INF] Successfully published payment processed message: REF0199
2025-07-11 10:01:46.765 +03:00 [INF] Processing payment message: REF0199 for student: S660099
2025-07-11 10:01:46.775 +03:00 [INF] Sending payment receipt email to awkiiru@usiu.ac.ke for payment REF0199
2025-07-11 10:01:46.781 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-11 10:01:46.782 +03:00 [INF] Email Subject: Payment Receipt - REF0199
2025-07-11 10:01:46.782 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 10:01:46.797 +03:00 [INF] Retrieving all payments with student information
2025-07-11 10:01:46.798 +03:00 [INF] Email Content: XYZ UNIVERSITY - PAYMENT RECEIPT
================================

Dear Keith Wanyonyi,

Thank you for your payment. Please find your receipt details below:

Receipt Number: REF0199
Date: 11/07/2025
Time: 00:00:00
Student Number: S660099
Amount Paid: $800.00
Payment Method: M-Pesa
Transaction ID: N/A
Receipt Number: N/A

Notes: No additional notes

This receipt serves as proof of payment. Please keep it for your records.

If you have any questions, please contact the finance office.

Best regards,
XYZ University Finance Department
Email: finance@xyzuniversity.edu
Phone: +254-XXX-XXX-XXX

Generated on: 11/07/2025 07:01:46 UTC
2025-07-11 10:01:46.803 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 10:01:46.816 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 10:01:46.826 +03:00 [INF] Retrieved 8 payments for Admin
2025-07-11 10:01:46.835 +03:00 [INF] Retrieved 9 students for lookup
2025-07-11 10:01:46.841 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-11 10:01:46.848 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-11 10:01:46.856 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-11 10:01:46.863 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-11 10:01:46.868 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-11 10:01:46.874 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-11 10:01:46.880 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-11 10:01:46.884 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-11 10:01:46.889 +03:00 [INF] Returning 8 payment DTOs
2025-07-11 10:01:46.919 +03:00 [INF] Payment receipt email sent successfully to awkiiru@usiu.ac.ke
2025-07-11 10:01:46.924 +03:00 [INF] Payment receipt email sent successfully for payment: REF0199
2025-07-11 10:01:46.928 +03:00 [INF] Sending payment confirmation email to awkiiru@usiu.ac.ke for payment REF0199
2025-07-11 10:01:46.931 +03:00 [INF] Email Subject: Payment Confirmation - REF0199
2025-07-11 10:01:46.934 +03:00 [INF] Email Content: XYZ UNIVERSITY - PAYMENT CONFIRMATION
====================================

Dear Keith Wanyonyi,

Your payment has been successfully processed and confirmed.

Payment Details:
- Reference: REF0199
- Amount: $800.00
- Date: 11/07/2025
- Method: M-Pesa

Your student account has been updated accordingly.

Thank you for your prompt payment.

Best regards,
XYZ University Finance Department
2025-07-11 10:01:47.036 +03:00 [INF] Payment confirmation email sent successfully to awkiiru@usiu.ac.ke
2025-07-11 10:01:47.041 +03:00 [INF] Payment confirmation email sent successfully for payment: REF0199
2025-07-11 10:01:59.781 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-11 10:01:59.796 +03:00 [INF] Total users in database: 11
2025-07-11 10:01:59.804 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-11 10:01:59.817 +03:00 [INF] Total users in database: 11
2025-07-11 10:01:59.825 +03:00 [INF] Returning 11 users
2025-07-11 10:01:59.836 +03:00 [INF] Returning 11 users
2025-07-11 10:02:04.191 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-11 10:02:04.191 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 10:02:04.212 +03:00 [INF] Retrieving all payments with student information
2025-07-11 10:02:04.217 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 10:02:04.222 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 10:02:04.235 +03:00 [INF] Retrieved 8 payments for Admin
2025-07-11 10:02:04.238 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 10:02:04.250 +03:00 [INF] Retrieved 9 students for lookup
2025-07-11 10:02:04.253 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 10:02:04.263 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-11 10:02:04.269 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-11 10:02:04.274 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-11 10:02:04.278 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-11 10:02:04.283 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-11 10:02:04.288 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-11 10:02:04.293 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-11 10:02:04.298 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-11 10:02:04.303 +03:00 [INF] Returning 8 payment DTOs
2025-07-11 10:02:04.326 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-11 10:02:04.335 +03:00 [INF] Retrieving all payments with student information
2025-07-11 10:02:04.343 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 10:02:04.350 +03:00 [INF] Retrieved 8 payments for Admin
2025-07-11 10:02:04.358 +03:00 [INF] Retrieved 9 students for lookup
2025-07-11 10:02:04.363 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-11 10:02:04.369 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-11 10:02:04.375 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-11 10:02:04.379 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-11 10:02:04.384 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-11 10:02:04.391 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-11 10:02:04.396 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-11 10:02:04.400 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-11 10:02:04.405 +03:00 [INF] Returning 8 payment DTOs
2025-07-11 10:02:15.826 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-11 10:02:15.826 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-11 10:02:15.859 +03:00 [INF] Total users in database: 11
2025-07-11 10:02:15.861 +03:00 [INF] Total users in database: 11
2025-07-11 10:02:15.882 +03:00 [INF] Returning 11 users
2025-07-11 10:02:15.883 +03:00 [INF] Returning 11 users
2025-07-11 10:02:30.790 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-11 10:02:30.810 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-11 10:05:42.241 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-11 10:05:42.258 +03:00 [INF] Total users in database: 11
2025-07-11 10:05:42.279 +03:00 [INF] Returning 11 users
2025-07-11 10:06:54.201 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
2025-07-11 10:07:04.566 +03:00 [INF] Starting XYZ University Payment API {"MachineName":"DESKTOP-F3AMJ10","ThreadId":1,"ProcessId":1788,"Application":"XYZ University Payment API"}
