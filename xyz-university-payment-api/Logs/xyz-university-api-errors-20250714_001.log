2025-07-14 13:01:56.448 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - xyz_university_payment_api.Presentation.Controllers.V3.UserControllerV3.GetRoles (xyz-university-payment-api). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - System.Collections.Generic.IEnumerable`1[xyz_university_payment_api.Presentation.Controllers.V3.RoleDto]. See inner exception
 ---> System.InvalidOperationException: Can't use schemaId "$RoleDto" for type "$xyz_university_payment_api.Presentation.Controllers.V3.RoleDto". The same schemaId is already used for type "$xyz_university_payment_api.Core.Application.DTOs.RoleDto"
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaRepository.RegisterType(Type type, String schemaId)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateReferencedSchema(DataContract dataContract, SchemaRepository schemaRepository, Func`1 definitionFactory)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateConcreteSchema(DataContract dataContract, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForType(Type modelType, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchema(Type modelType, SchemaRepository schemaRepository, MemberInfo memberInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.CreateArraySchema(DataContract dataContract, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.<>c__DisplayClass13_0.<GenerateConcreteSchema>b__1()
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateConcreteSchema(DataContract dataContract, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForType(Type modelType, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchema(Type modelType, SchemaRepository schemaRepository, MemberInfo memberInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.CreateResponseMediaType(Type modelType, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.<>c__DisplayClass42_0.<GenerateResponse>b__2(String contentType)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateResponse(ApiDescription apiDescription, SchemaRepository schemaRepository, String statusCode, ApiResponseType apiResponseType)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateResponses(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository, Func`3 parametersGenerator, Func`3 bodyGenerator, Func`3 applyFilters)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository, Func`3 parametersGenerator, Func`3 bodyGenerator, Func`3 applyFilters)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(OpenApiDocument document, ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`4 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(OpenApiDocument document, IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-14 16:08:07.467 +03:00 [ERR] Request 0HNE2PF725QK3:00000002 failed: {"RequestId":"0HNE2PF725QK3:00000002","Path":{"Value":"/api/v3/Payment","HasValue":true},"Method":"POST","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","ExceptionType":"AutoMapperMappingException","ExceptionMessage":"Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nPaymentNotification -\u003E PaymentResponseDto\r\nxyz_university_payment_api.Core.Domain.Entities.PaymentNotification -\u003E xyz_university_payment_api.Core.Application.DTOs.PaymentResponseDto","StatusCode":500} {"SourceContext":"xyz_university_payment_api.Presentation.Filters.GlobalExceptionFilter","ActionId":"f3d73a2f-9892-4df8-b3f6-c21a85cf4007","ActionName":"xyz_university_payment_api.Presentation.Controllers.V3.PaymentController.CreatePayment (xyz-university-payment-api)","RequestPath":"/api/v3/Payment","ConnectionId":"0HNE2PF725QK3","MachineName":"DESKTOP-F3AMJ10","ThreadId":34,"ProcessId":19852,"Application":"XYZ University Payment API"}
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PaymentNotification -> PaymentResponseDto
xyz_university_payment_api.Core.Domain.Entities.PaymentNotification -> xyz_university_payment_api.Core.Application.DTOs.PaymentResponseDto
   at lambda_method1342(Closure, Object, PaymentResponseDto, ResolutionContext)
   at xyz_university_payment_api.Presentation.Controllers.V3.PaymentController.CreatePayment(CreatePaymentDto createPaymentDto) in C:\Users\wanja\Desktop\jj\xyz-university-payment-api\xyz-university-payment-api\Presentation\Controllers\V3\PaymentControllerV3.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-07-14 16:08:08.766 +03:00 [ERR] Failed to send email to S67890@student.xyzuniversity.edu. Status: "Unauthorized" {"SourceContext":"xyz_university_payment_api.Core.Application.Services.EmailService","MachineName":"DESKTOP-F3AMJ10","ThreadId":36,"ProcessId":19852,"Application":"XYZ University Payment API"}
2025-07-14 16:08:09.234 +03:00 [ERR] Failed to send email to S67890@student.xyzuniversity.edu. Status: "Unauthorized" {"SourceContext":"xyz_university_payment_api.Core.Application.Services.EmailService","MachineName":"DESKTOP-F3AMJ10","ThreadId":36,"ProcessId":19852,"Application":"XYZ University Payment API"}
2025-07-14 16:09:11.406 +03:00 [ERR] Failed to send email to S67890@student.xyzuniversity.edu. Status: "Unauthorized" {"SourceContext":"xyz_university_payment_api.Core.Application.Services.EmailService","MachineName":"DESKTOP-F3AMJ10","ThreadId":34,"ProcessId":19852,"Application":"XYZ University Payment API"}
2025-07-14 16:09:48.244 +03:00 [ERR] Failed to send email to S67890@student.xyzuniversity.edu. Status: "Unauthorized" {"SourceContext":"xyz_university_payment_api.Core.Application.Services.EmailService","MachineName":"DESKTOP-F3AMJ10","ThreadId":15,"ProcessId":19852,"Application":"XYZ University Payment API"}
2025-07-14 16:13:26.775 +03:00 [ERR] Failed to send email to Jsmith@xyz.edu. Status: "Unauthorized" {"SourceContext":"xyz_university_payment_api.Core.Application.Services.EmailService","MachineName":"DESKTOP-F3AMJ10","ThreadId":35,"ProcessId":19852,"Application":"XYZ University Payment API"}
2025-07-14 16:14:04.703 +03:00 [ERR] Request 0HNE2PF725QKB:00000002 failed: {"RequestId":"0HNE2PF725QKB:00000002","Path":{"Value":"/api/v3/Payment","HasValue":true},"Method":"POST","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","ExceptionType":"AutoMapperMappingException","ExceptionMessage":"Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nPaymentNotification -\u003E PaymentResponseDto\r\nxyz_university_payment_api.Core.Domain.Entities.PaymentNotification -\u003E xyz_university_payment_api.Core.Application.DTOs.PaymentResponseDto","StatusCode":500} {"SourceContext":"xyz_university_payment_api.Presentation.Filters.GlobalExceptionFilter","ActionId":"f3d73a2f-9892-4df8-b3f6-c21a85cf4007","ActionName":"xyz_university_payment_api.Presentation.Controllers.V3.PaymentController.CreatePayment (xyz-university-payment-api)","RequestPath":"/api/v3/Payment","ConnectionId":"0HNE2PF725QKB","MachineName":"DESKTOP-F3AMJ10","ThreadId":27,"ProcessId":19852,"Application":"XYZ University Payment API"}
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PaymentNotification -> PaymentResponseDto
xyz_university_payment_api.Core.Domain.Entities.PaymentNotification -> xyz_university_payment_api.Core.Application.DTOs.PaymentResponseDto
   at lambda_method1342(Closure, Object, PaymentResponseDto, ResolutionContext)
   at xyz_university_payment_api.Presentation.Controllers.V3.PaymentController.CreatePayment(CreatePaymentDto createPaymentDto) in C:\Users\wanja\Desktop\jj\xyz-university-payment-api\xyz-university-payment-api\Presentation\Controllers\V3\PaymentControllerV3.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-07-14 16:14:05.896 +03:00 [ERR] Failed to send email to Jsmith@xyz.edu. Status: "Unauthorized" {"SourceContext":"xyz_university_payment_api.Core.Application.Services.EmailService","MachineName":"DESKTOP-F3AMJ10","ThreadId":44,"ProcessId":19852,"Application":"XYZ University Payment API"}
2025-07-14 16:14:06.418 +03:00 [ERR] Failed to send email to Jsmith@xyz.edu. Status: "Unauthorized" {"SourceContext":"xyz_university_payment_api.Core.Application.Services.EmailService","MachineName":"DESKTOP-F3AMJ10","ThreadId":44,"ProcessId":19852,"Application":"XYZ University Payment API"}
