2025-07-12 16:53:03.406 +03:00 [INF] Ensuring database is created
2025-07-12 16:53:06.751 +03:00 [INF] Database created successfully
2025-07-12 16:53:06.763 +03:00 [INF] Seeding default roles and permissions
2025-07-12 16:53:07.910 +03:00 [INF] Valid data already seeded, skipping seeding process
2025-07-12 16:53:07.932 +03:00 [INF] Default roles and permissions seeded successfully
2025-07-12 16:53:08.299 +03:00 [INF] XYZ University Payment API started successfully
2025-07-12 16:53:08.608 +03:00 [INF] Configured endpoint PaymentMessage, Consumer: xyz_university_payment_api.Core.Application.Services.PaymentMessageConsumer
2025-07-12 16:53:08.636 +03:00 [INF] Configured endpoint PaymentFailedMessage, Consumer: xyz_university_payment_api.Core.Application.Services.PaymentFailedMessageConsumer
2025-07-12 16:53:09.665 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2025-07-12 16:58:08.952 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-12 16:58:09.068 +03:00 [INF] Generated access token for user admin with 1 roles and 16 permissions
2025-07-12 16:58:09.874 +03:00 [INF] V3 GetAdminStats endpoint called
2025-07-12 16:58:09.900 +03:00 [INF] Retrieving all students
2025-07-12 16:58:10.169 +03:00 [INF] Retrieving all payments
2025-07-12 16:58:10.350 +03:00 [INF] V3 GetAdminStats endpoint called
2025-07-12 16:58:10.378 +03:00 [INF] Retrieving all students
2025-07-12 16:58:10.418 +03:00 [INF] Retrieving all payments
2025-07-12 17:02:35.248 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:02:35.290 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:02:35.439 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:02:35.489 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:05:04.306 +03:00 [INF] Creating student V3: S660099
2025-07-12 17:05:04.328 +03:00 [INF] Creating new student: S660099
2025-07-12 17:05:04.371 +03:00 [WRN] Student number already exists: S660099
2025-07-12 17:05:04.389 +03:00 [ERR] Error creating student V3: S660099
xyz_university_payment_api.Core.Domain.Exceptions.DuplicateStudentException: Student with number S660099 already exists.
   at xyz_university_payment_api.Core.Application.Services.StudentService.CreateStudentAsync(Student student) in C:\Users\wanja\Desktop\jj\xyz-university-payment-api\xyz-university-payment-api\Core\Application\Services\StudentService.cs:line 151
   at xyz_university_payment_api.Core.Application.Services.StudentService.CreateStudentV3Async(CreateStudentDtoV3 createStudentDto) in C:\Users\wanja\Desktop\jj\xyz-university-payment-api\xyz-university-payment-api\Core\Application\Services\StudentService.cs:line 733
2025-07-12 17:05:04.465 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-12 17:05:31.885 +03:00 [INF] Creating student V3: S660099
2025-07-12 17:05:31.917 +03:00 [INF] Creating new student: S660099
2025-07-12 17:05:31.942 +03:00 [WRN] Student number already exists: S660099
2025-07-12 17:05:31.954 +03:00 [ERR] Error creating student V3: S660099
xyz_university_payment_api.Core.Domain.Exceptions.DuplicateStudentException: Student with number S660099 already exists.
   at xyz_university_payment_api.Core.Application.Services.StudentService.CreateStudentAsync(Student student) in C:\Users\wanja\Desktop\jj\xyz-university-payment-api\xyz-university-payment-api\Core\Application\Services\StudentService.cs:line 151
   at xyz_university_payment_api.Core.Application.Services.StudentService.CreateStudentV3Async(CreateStudentDtoV3 createStudentDto) in C:\Users\wanja\Desktop\jj\xyz-university-payment-api\xyz-university-payment-api\Core\Application\Services\StudentService.cs:line 733
2025-07-12 17:05:31.974 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-12 17:05:52.035 +03:00 [INF] Creating student V3: S6600991
2025-07-12 17:05:52.054 +03:00 [INF] Creating new student: S6600991
2025-07-12 17:05:52.146 +03:00 [INF] Student created successfully: S6600991
2025-07-12 17:05:52.166 +03:00 [INF] Removed 0 cache keys matching pattern: students_v3_*
2025-07-12 17:05:52.181 +03:00 [INF] Removed 0 cache keys matching pattern: student_v3_*
2025-07-12 17:05:52.213 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:05:52.262 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:06:00.663 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:06:00.691 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-12 17:06:00.732 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:06:00.743 +03:00 [INF] Retrieving all payments with student information
2025-07-12 17:06:00.770 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:06:00.778 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:06:00.830 +03:00 [INF] Retrieved 16 payments for Admin
2025-07-12 17:06:00.840 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:06:00.877 +03:00 [INF] Retrieved 10 students for lookup
2025-07-12 17:06:00.898 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-12 17:06:00.919 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-12 17:06:00.936 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-12 17:06:00.952 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-12 17:06:00.964 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-12 17:06:00.978 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-12 17:06:00.992 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-12 17:06:01.006 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-12 17:06:01.022 +03:00 [INF] Payment 9 for student S660099, found student: Yes
2025-07-12 17:06:01.039 +03:00 [INF] Payment 10 for student S660099, found student: Yes
2025-07-12 17:06:01.057 +03:00 [INF] Payment 11 for student S660099, found student: Yes
2025-07-12 17:06:01.077 +03:00 [INF] Payment 12 for student S660099, found student: Yes
2025-07-12 17:06:01.097 +03:00 [INF] Payment 13 for student S660099, found student: Yes
2025-07-12 17:06:01.119 +03:00 [INF] Payment 14 for student S660099, found student: Yes
2025-07-12 17:06:01.140 +03:00 [INF] Payment 15 for student S660066, found student: Yes
2025-07-12 17:06:01.262 +03:00 [INF] Payment 16 for student S660066, found student: Yes
2025-07-12 17:06:01.295 +03:00 [INF] Returning 16 payment DTOs
2025-07-12 17:06:01.342 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-12 17:06:01.357 +03:00 [INF] Retrieving all payments with student information
2025-07-12 17:06:01.370 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:06:01.389 +03:00 [INF] Retrieved 16 payments for Admin
2025-07-12 17:06:01.409 +03:00 [INF] Retrieved 10 students for lookup
2025-07-12 17:06:01.422 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-12 17:06:01.439 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-12 17:06:01.457 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-12 17:06:01.477 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-12 17:06:01.496 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-12 17:06:01.515 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-12 17:06:01.537 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-12 17:06:01.556 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-12 17:06:01.578 +03:00 [INF] Payment 9 for student S660099, found student: Yes
2025-07-12 17:06:01.599 +03:00 [INF] Payment 10 for student S660099, found student: Yes
2025-07-12 17:06:01.614 +03:00 [INF] Payment 11 for student S660099, found student: Yes
2025-07-12 17:06:01.633 +03:00 [INF] Payment 12 for student S660099, found student: Yes
2025-07-12 17:06:01.651 +03:00 [INF] Payment 13 for student S660099, found student: Yes
2025-07-12 17:06:01.666 +03:00 [INF] Payment 14 for student S660099, found student: Yes
2025-07-12 17:06:01.687 +03:00 [INF] Payment 15 for student S660066, found student: Yes
2025-07-12 17:06:01.706 +03:00 [INF] Payment 16 for student S660066, found student: Yes
2025-07-12 17:06:01.727 +03:00 [INF] Returning 16 payment DTOs
2025-07-12 17:07:00.885 +03:00 [INF] V3 CreatePayment endpoint called with reference: REF00991
2025-07-12 17:07:00.933 +03:00 [INF] Processing payment: REF00991 for student: S6600991
2025-07-12 17:07:01.035 +03:00 [INF] Payment processed successfully: REF00991
2025-07-12 17:07:01.060 +03:00 [INF] Publishing payment processed message: REF00991
2025-07-12 17:07:01.295 +03:00 [INF] Successfully published payment processed message: REF00991
2025-07-12 17:07:01.357 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-12 17:07:01.358 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:07:01.363 +03:00 [INF] Processing payment message: REF00991 for student: S6600991
2025-07-12 17:07:01.423 +03:00 [INF] Retrieving all payments with student information
2025-07-12 17:07:01.437 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:07:01.457 +03:00 [INF] Sending payment receipt email to josepharodi@gmail.com for payment REF00991
2025-07-12 17:07:01.472 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:07:01.510 +03:00 [INF] Retrieved 17 payments for Admin
2025-07-12 17:07:01.528 +03:00 [INF] Retrieved 10 students for lookup
2025-07-12 17:07:01.543 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-12 17:07:01.557 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-12 17:07:01.572 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-12 17:07:01.588 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-12 17:07:01.603 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-12 17:07:01.619 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-12 17:07:01.634 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-12 17:07:01.650 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-12 17:07:01.665 +03:00 [INF] Payment 9 for student S660099, found student: Yes
2025-07-12 17:07:01.679 +03:00 [INF] Payment 10 for student S660099, found student: Yes
2025-07-12 17:07:01.694 +03:00 [INF] Payment 11 for student S660099, found student: Yes
2025-07-12 17:07:01.709 +03:00 [INF] Payment 12 for student S660099, found student: Yes
2025-07-12 17:07:01.723 +03:00 [INF] Payment 13 for student S660099, found student: Yes
2025-07-12 17:07:01.739 +03:00 [INF] Payment 14 for student S660099, found student: Yes
2025-07-12 17:07:01.756 +03:00 [INF] Payment 15 for student S660066, found student: Yes
2025-07-12 17:07:01.773 +03:00 [INF] Payment 16 for student S660066, found student: Yes
2025-07-12 17:07:01.787 +03:00 [INF] Payment 17 for student S6600991, found student: Yes
2025-07-12 17:07:01.803 +03:00 [INF] Returning 17 payment DTOs
2025-07-12 17:07:03.354 +03:00 [INF] Email sent successfully to josepharodi@gmail.com
2025-07-12 17:07:03.366 +03:00 [INF] Payment receipt email sent successfully for payment: REF00991
2025-07-12 17:07:03.374 +03:00 [INF] Sending payment confirmation email to josepharodi@gmail.com for payment REF00991
2025-07-12 17:07:03.556 +03:00 [INF] Email sent successfully to josepharodi@gmail.com
2025-07-12 17:07:03.566 +03:00 [INF] Payment confirmation email sent successfully for payment: REF00991
2025-07-12 17:09:11.418 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-12 17:09:11.418 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:09:11.436 +03:00 [INF] Retrieving all payments with student information
2025-07-12 17:09:11.447 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:09:11.456 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:09:11.465 +03:00 [INF] Retrieved 17 payments for Admin
2025-07-12 17:09:11.474 +03:00 [INF] Retrieved 10 students for lookup
2025-07-12 17:09:11.476 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:09:11.488 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-12 17:09:11.492 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:09:11.501 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-12 17:09:11.507 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-12 17:09:11.512 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-12 17:09:11.517 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-12 17:09:11.522 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-12 17:09:11.526 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-12 17:09:11.531 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-12 17:09:11.535 +03:00 [INF] Payment 9 for student S660099, found student: Yes
2025-07-12 17:09:11.540 +03:00 [INF] Payment 10 for student S660099, found student: Yes
2025-07-12 17:09:11.545 +03:00 [INF] Payment 11 for student S660099, found student: Yes
2025-07-12 17:09:11.549 +03:00 [INF] Payment 12 for student S660099, found student: Yes
2025-07-12 17:09:11.554 +03:00 [INF] Payment 13 for student S660099, found student: Yes
2025-07-12 17:09:11.558 +03:00 [INF] Payment 14 for student S660099, found student: Yes
2025-07-12 17:09:11.563 +03:00 [INF] Payment 15 for student S660066, found student: Yes
2025-07-12 17:09:11.567 +03:00 [INF] Payment 16 for student S660066, found student: Yes
2025-07-12 17:09:11.573 +03:00 [INF] Payment 17 for student S6600991, found student: Yes
2025-07-12 17:09:11.577 +03:00 [INF] Returning 17 payment DTOs
2025-07-12 17:09:11.584 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-12 17:09:11.590 +03:00 [INF] Retrieving all payments with student information
2025-07-12 17:09:11.594 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:09:11.600 +03:00 [INF] Retrieved 17 payments for Admin
2025-07-12 17:09:11.606 +03:00 [INF] Retrieved 10 students for lookup
2025-07-12 17:09:11.611 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-12 17:09:11.616 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-12 17:09:11.620 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-12 17:09:11.625 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-12 17:09:11.630 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-12 17:09:11.634 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-12 17:09:11.640 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-12 17:09:11.645 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-12 17:09:11.650 +03:00 [INF] Payment 9 for student S660099, found student: Yes
2025-07-12 17:09:11.654 +03:00 [INF] Payment 10 for student S660099, found student: Yes
2025-07-12 17:09:11.659 +03:00 [INF] Payment 11 for student S660099, found student: Yes
2025-07-12 17:09:11.663 +03:00 [INF] Payment 12 for student S660099, found student: Yes
2025-07-12 17:09:11.668 +03:00 [INF] Payment 13 for student S660099, found student: Yes
2025-07-12 17:09:11.673 +03:00 [INF] Payment 14 for student S660099, found student: Yes
2025-07-12 17:09:11.677 +03:00 [INF] Payment 15 for student S660066, found student: Yes
2025-07-12 17:09:11.682 +03:00 [INF] Payment 16 for student S660066, found student: Yes
2025-07-12 17:09:11.687 +03:00 [INF] Payment 17 for student S6600991, found student: Yes
2025-07-12 17:09:11.692 +03:00 [INF] Returning 17 payment DTOs
2025-07-12 17:09:29.713 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-12 17:09:29.717 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-12 17:09:29.735 +03:00 [INF] Total users in database: 12
2025-07-12 17:09:29.735 +03:00 [INF] Total users in database: 12
2025-07-12 17:09:29.779 +03:00 [INF] Returning 12 users
2025-07-12 17:09:29.779 +03:00 [INF] Returning 12 users
2025-07-12 17:09:39.938 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:09:39.957 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:09:59.078 +03:00 [INF] Creating user with username: S6600991
2025-07-12 17:09:59.114 +03:00 [INF] Automatically assigned role 'Student' to user S6600991
2025-07-12 17:09:59.162 +03:00 [INF] GetUsers endpoint called by user: admin
2025-07-12 17:09:59.169 +03:00 [INF] Total users in database: 13
2025-07-12 17:09:59.184 +03:00 [INF] Returning 13 users
2025-07-12 17:10:26.958 +03:00 [INF] Generated access token for user S6600991 with 1 roles and 2 permissions
2025-07-12 17:10:27.038 +03:00 [INF] V3 GetStudentStats endpoint called
2025-07-12 17:10:27.045 +03:00 [INF] Current user: S6600991 (ID: 62)
2025-07-12 17:10:27.054 +03:00 [INF] User roles: Student, Student
2025-07-12 17:10:27.061 +03:00 [INF] User permissions: Payments.Read, Students.Read
2025-07-12 17:10:27.066 +03:00 [INF] Retrieving all students
2025-07-12 17:10:27.075 +03:00 [INF] Retrieving payments for student: S6600991
2025-07-12 17:10:27.086 +03:00 [INF] Student payments cached: S6600991
2025-07-12 17:10:27.091 +03:00 [INF] Found 1 payments for student S6600991, total paid: 25000.00
2025-07-12 17:10:27.103 +03:00 [INF] V3 GetStudentStats endpoint called
2025-07-12 17:10:27.107 +03:00 [INF] Current user: S6600991 (ID: 62)
2025-07-12 17:10:27.112 +03:00 [INF] User roles: Student, Student
2025-07-12 17:10:27.116 +03:00 [INF] User permissions: Payments.Read, Students.Read
2025-07-12 17:10:27.121 +03:00 [INF] Retrieving all students
2025-07-12 17:10:27.126 +03:00 [INF] Retrieving payments for student: S6600991
2025-07-12 17:10:27.133 +03:00 [INF] Student payments retrieved from cache: S6600991
2025-07-12 17:10:27.139 +03:00 [INF] Found 1 payments for student S6600991, total paid: 25000.00
2025-07-12 17:10:44.336 +03:00 [INF] V3 GetStudentStats endpoint called
2025-07-12 17:10:44.343 +03:00 [INF] Current user: S6600991 (ID: 62)
2025-07-12 17:10:44.350 +03:00 [INF] User roles: Student, Student
2025-07-12 17:10:44.359 +03:00 [INF] User permissions: Payments.Read, Students.Read
2025-07-12 17:10:44.364 +03:00 [INF] Retrieving all students
2025-07-12 17:10:44.371 +03:00 [INF] Retrieving payments for student: S6600991
2025-07-12 17:10:44.376 +03:00 [INF] Student payments retrieved from cache: S6600991
2025-07-12 17:10:44.380 +03:00 [INF] Found 1 payments for student S6600991, total paid: 25000.00
2025-07-12 17:10:44.387 +03:00 [INF] V3 GetStudentStats endpoint called
2025-07-12 17:10:44.391 +03:00 [INF] Current user: S6600991 (ID: 62)
2025-07-12 17:10:44.396 +03:00 [INF] User roles: Student, Student
2025-07-12 17:10:44.400 +03:00 [INF] User permissions: Payments.Read, Students.Read
2025-07-12 17:10:44.405 +03:00 [INF] Retrieving all students
2025-07-12 17:10:44.410 +03:00 [INF] Retrieving payments for student: S6600991
2025-07-12 17:10:44.415 +03:00 [INF] Student payments retrieved from cache: S6600991
2025-07-12 17:10:44.419 +03:00 [INF] Found 1 payments for student S6600991, total paid: 25000.00
2025-07-12 17:11:21.957 +03:00 [INF] V3 GetPaymentsByStudent endpoint called for student: S6600991
2025-07-12 17:11:21.965 +03:00 [INF] Calling payment service for student: S6600991
2025-07-12 17:11:21.974 +03:00 [INF] Retrieving payments for student: S6600991
2025-07-12 17:11:21.982 +03:00 [INF] Student payments retrieved from cache: S6600991
2025-07-12 17:11:21.989 +03:00 [INF] Payment service returned 1 payments for student: S6600991
2025-07-12 17:11:22.001 +03:00 [INF] Payment: ID=17, Ref=REF00991, Amount=25000.00, Student=S6600991
2025-07-12 17:11:22.012 +03:00 [INF] AutoMapper converted to 1 DTOs
2025-07-12 17:11:22.018 +03:00 [INF] Final paged result: 1 items, Total: 1, Page: 1
2025-07-12 17:11:22.029 +03:00 [INF] V3 GetPaymentsByStudent endpoint called for student: S6600991
2025-07-12 17:11:22.034 +03:00 [INF] Calling payment service for student: S6600991
2025-07-12 17:11:22.038 +03:00 [INF] Retrieving payments for student: S6600991
2025-07-12 17:11:22.043 +03:00 [INF] Student payments retrieved from cache: S6600991
2025-07-12 17:11:22.047 +03:00 [INF] Payment service returned 1 payments for student: S6600991
2025-07-12 17:11:22.052 +03:00 [INF] Payment: ID=17, Ref=REF00991, Amount=25000.00, Student=S6600991
2025-07-12 17:11:22.058 +03:00 [INF] AutoMapper converted to 1 DTOs
2025-07-12 17:11:22.062 +03:00 [INF] Final paged result: 1 items, Total: 1, Page: 1
2025-07-12 17:11:38.827 +03:00 [INF] Generated access token for user admin with 1 roles and 16 permissions
2025-07-12 17:11:38.873 +03:00 [INF] V3 GetAdminStats endpoint called
2025-07-12 17:11:38.883 +03:00 [INF] Retrieving all students
2025-07-12 17:11:38.895 +03:00 [INF] Retrieving all payments
2025-07-12 17:11:38.908 +03:00 [INF] V3 GetAdminStats endpoint called
2025-07-12 17:11:38.915 +03:00 [INF] Retrieving all students
2025-07-12 17:11:38.926 +03:00 [INF] Retrieving all payments
2025-07-12 17:11:44.876 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:11:44.893 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:11:44.905 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:11:44.917 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:12:05.281 +03:00 [INF] Updating student V3 with ID: 11
2025-07-12 17:12:05.288 +03:00 [INF] Retrieving student with ID: 11
2025-07-12 17:12:05.306 +03:00 [INF] Student cached: 11
2025-07-12 17:12:05.311 +03:00 [INF] Updating student: S6600991
2025-07-12 17:12:05.319 +03:00 [INF] Student updated successfully: S6600991
2025-07-12 17:12:05.323 +03:00 [INF] Removed 1 cache keys matching pattern: student
2025-07-12 17:12:05.328 +03:00 [INF] Removed 0 cache keys matching pattern: students_v3
2025-07-12 17:12:05.333 +03:00 [INF] Cleared all cache keys. Total removed: 0
2025-07-12 17:12:05.337 +03:00 [INF] Removed 0 cache keys matching pattern: students_v3_*
2025-07-12 17:12:05.346 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:12:05.357 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:12:32.817 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-12 17:12:32.824 +03:00 [INF] Retrieving all payments with student information
2025-07-12 17:12:32.832 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:12:32.833 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:12:32.855 +03:00 [INF] Retrieved 17 payments for Admin
2025-07-12 17:12:32.859 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:12:32.881 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:12:32.874 +03:00 [INF] Retrieved 10 students for lookup
2025-07-12 17:12:32.899 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-12 17:12:32.899 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:12:32.910 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-12 17:12:32.917 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-12 17:12:32.922 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-12 17:12:32.928 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-12 17:12:32.932 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-12 17:12:32.937 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-12 17:12:32.941 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-12 17:12:32.946 +03:00 [INF] Payment 9 for student S660099, found student: Yes
2025-07-12 17:12:32.950 +03:00 [INF] Payment 10 for student S660099, found student: Yes
2025-07-12 17:12:32.955 +03:00 [INF] Payment 11 for student S660099, found student: Yes
2025-07-12 17:12:32.960 +03:00 [INF] Payment 12 for student S660099, found student: Yes
2025-07-12 17:12:32.965 +03:00 [INF] Payment 13 for student S660099, found student: Yes
2025-07-12 17:12:32.969 +03:00 [INF] Payment 14 for student S660099, found student: Yes
2025-07-12 17:12:32.974 +03:00 [INF] Payment 15 for student S660066, found student: Yes
2025-07-12 17:12:32.979 +03:00 [INF] Payment 16 for student S660066, found student: Yes
2025-07-12 17:12:32.983 +03:00 [INF] Payment 17 for student S6600991, found student: Yes
2025-07-12 17:12:32.987 +03:00 [INF] Returning 17 payment DTOs
2025-07-12 17:12:32.995 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-12 17:12:32.999 +03:00 [INF] Retrieving all payments with student information
2025-07-12 17:12:33.003 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:12:33.009 +03:00 [INF] Retrieved 17 payments for Admin
2025-07-12 17:12:33.015 +03:00 [INF] Retrieved 10 students for lookup
2025-07-12 17:12:33.019 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-12 17:12:33.024 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-12 17:12:33.028 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-12 17:12:33.033 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-12 17:12:33.037 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-12 17:12:33.042 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-12 17:12:33.046 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-12 17:12:33.051 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-12 17:12:33.055 +03:00 [INF] Payment 9 for student S660099, found student: Yes
2025-07-12 17:12:33.060 +03:00 [INF] Payment 10 for student S660099, found student: Yes
2025-07-12 17:12:33.064 +03:00 [INF] Payment 11 for student S660099, found student: Yes
2025-07-12 17:12:33.069 +03:00 [INF] Payment 12 for student S660099, found student: Yes
2025-07-12 17:12:33.073 +03:00 [INF] Payment 13 for student S660099, found student: Yes
2025-07-12 17:12:33.077 +03:00 [INF] Payment 14 for student S660099, found student: Yes
2025-07-12 17:12:33.082 +03:00 [INF] Payment 15 for student S660066, found student: Yes
2025-07-12 17:12:33.086 +03:00 [INF] Payment 16 for student S660066, found student: Yes
2025-07-12 17:12:33.090 +03:00 [INF] Payment 17 for student S6600991, found student: Yes
2025-07-12 17:12:33.095 +03:00 [INF] Returning 17 payment DTOs
2025-07-12 17:12:37.982 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-12 17:12:37.982 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:12:37.997 +03:00 [INF] Retrieving all payments with student information
2025-07-12 17:12:38.002 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:12:38.011 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:12:38.016 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:12:38.019 +03:00 [INF] Retrieved 17 payments for Admin
2025-07-12 17:12:38.033 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:12:38.035 +03:00 [INF] Retrieved 10 students for lookup
2025-07-12 17:12:38.043 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-12 17:12:38.048 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-12 17:12:38.053 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-12 17:12:38.059 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-12 17:12:38.064 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-12 17:12:38.069 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-12 17:12:38.074 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-12 17:12:38.080 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-12 17:12:38.086 +03:00 [INF] Payment 9 for student S660099, found student: Yes
2025-07-12 17:12:38.093 +03:00 [INF] Payment 10 for student S660099, found student: Yes
2025-07-12 17:12:38.098 +03:00 [INF] Payment 11 for student S660099, found student: Yes
2025-07-12 17:12:38.103 +03:00 [INF] Payment 12 for student S660099, found student: Yes
2025-07-12 17:12:38.109 +03:00 [INF] Payment 13 for student S660099, found student: Yes
2025-07-12 17:12:38.114 +03:00 [INF] Payment 14 for student S660099, found student: Yes
2025-07-12 17:12:38.119 +03:00 [INF] Payment 15 for student S660066, found student: Yes
2025-07-12 17:12:38.124 +03:00 [INF] Payment 16 for student S660066, found student: Yes
2025-07-12 17:12:38.129 +03:00 [INF] Payment 17 for student S6600991, found student: Yes
2025-07-12 17:12:38.134 +03:00 [INF] Returning 17 payment DTOs
2025-07-12 17:12:38.140 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-12 17:12:38.145 +03:00 [INF] Retrieving all payments with student information
2025-07-12 17:12:38.149 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:12:38.159 +03:00 [INF] Retrieved 17 payments for Admin
2025-07-12 17:12:38.165 +03:00 [INF] Retrieved 10 students for lookup
2025-07-12 17:12:38.170 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-12 17:12:38.174 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-12 17:12:38.180 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-12 17:12:38.185 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-12 17:12:38.190 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-12 17:12:38.196 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-12 17:12:38.200 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-12 17:12:38.205 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-12 17:12:38.211 +03:00 [INF] Payment 9 for student S660099, found student: Yes
2025-07-12 17:12:38.215 +03:00 [INF] Payment 10 for student S660099, found student: Yes
2025-07-12 17:12:38.220 +03:00 [INF] Payment 11 for student S660099, found student: Yes
2025-07-12 17:12:38.225 +03:00 [INF] Payment 12 for student S660099, found student: Yes
2025-07-12 17:12:38.230 +03:00 [INF] Payment 13 for student S660099, found student: Yes
2025-07-12 17:12:38.235 +03:00 [INF] Payment 14 for student S660099, found student: Yes
2025-07-12 17:12:38.240 +03:00 [INF] Payment 15 for student S660066, found student: Yes
2025-07-12 17:12:38.245 +03:00 [INF] Payment 16 for student S660066, found student: Yes
2025-07-12 17:12:38.250 +03:00 [INF] Payment 17 for student S6600991, found student: Yes
2025-07-12 17:12:38.255 +03:00 [INF] Returning 17 payment DTOs
2025-07-12 17:13:37.967 +03:00 [INF] V3 CreatePayment endpoint called with reference: REF099912
2025-07-12 17:13:37.973 +03:00 [INF] Processing payment: REF099912 for student: S6600991
2025-07-12 17:13:37.985 +03:00 [INF] Payment processed successfully: REF099912
2025-07-12 17:13:37.990 +03:00 [INF] Publishing payment processed message: REF099912
2025-07-12 17:13:37.998 +03:00 [INF] Successfully published payment processed message: REF099912
2025-07-12 17:13:37.998 +03:00 [INF] Processing payment message: REF099912 for student: S6600991
2025-07-12 17:13:38.007 +03:00 [INF] Sending payment receipt email to josepharodi20@gmail.com for payment REF099912
2025-07-12 17:13:38.010 +03:00 [INF] V3 GetAllPayments endpoint called with page 1
2025-07-12 17:13:38.010 +03:00 [INF] Retrieving students V3 with filter: {"StudentNumber":null,"FullName":null,"Program":null,"IsActive":null,"CreatedFrom":null,"CreatedTo":null,"Tags":null,"MinTotalPayments":null,"MaxTotalPayments":null,"SearchTerm":null,"Metadata":null,"$type":"StudentFilterDtoV3"}
2025-07-12 17:13:38.023 +03:00 [INF] Retrieving all payments with student information
2025-07-12 17:13:38.027 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:13:38.035 +03:00 [INF] Current user role: Admin, User ID: 1
2025-07-12 17:13:38.042 +03:00 [INF] Retrieved 18 payments for Admin
2025-07-12 17:13:38.048 +03:00 [INF] Retrieved 10 students for lookup
2025-07-12 17:13:38.052 +03:00 [INF] Payment 1 for student S12345, found student: Yes
2025-07-12 17:13:38.057 +03:00 [INF] Payment 2 for student S67890, found student: Yes
2025-07-12 17:13:38.062 +03:00 [INF] Payment 3 for student S66004, found student: Yes
2025-07-12 17:13:38.067 +03:00 [INF] Payment 4 for student S66001, found student: Yes
2025-07-12 17:13:38.071 +03:00 [INF] Payment 5 for student S660066, found student: Yes
2025-07-12 17:13:38.076 +03:00 [INF] Payment 6 for student S660088, found student: Yes
2025-07-12 17:13:38.080 +03:00 [INF] Payment 7 for student S660099, found student: Yes
2025-07-12 17:13:38.085 +03:00 [INF] Payment 8 for student S660099, found student: Yes
2025-07-12 17:13:38.090 +03:00 [INF] Payment 9 for student S660099, found student: Yes
2025-07-12 17:13:38.094 +03:00 [INF] Payment 10 for student S660099, found student: Yes
2025-07-12 17:13:38.099 +03:00 [INF] Payment 11 for student S660099, found student: Yes
2025-07-12 17:13:38.103 +03:00 [INF] Payment 12 for student S660099, found student: Yes
2025-07-12 17:13:38.108 +03:00 [INF] Payment 13 for student S660099, found student: Yes
2025-07-12 17:13:38.112 +03:00 [INF] Payment 14 for student S660099, found student: Yes
2025-07-12 17:13:38.117 +03:00 [INF] Payment 15 for student S660066, found student: Yes
2025-07-12 17:13:38.121 +03:00 [INF] Payment 16 for student S660066, found student: Yes
2025-07-12 17:13:38.126 +03:00 [INF] Payment 17 for student S6600991, found student: Yes
2025-07-12 17:13:38.130 +03:00 [INF] Payment 18 for student S6600991, found student: Yes
2025-07-12 17:13:38.134 +03:00 [INF] Returning 18 payment DTOs
2025-07-12 17:13:39.400 +03:00 [INF] Email sent successfully to josepharodi20@gmail.com
2025-07-12 17:13:39.406 +03:00 [INF] Payment receipt email sent successfully for payment: REF099912
2025-07-12 17:13:39.409 +03:00 [INF] Sending payment confirmation email to josepharodi20@gmail.com for payment REF099912
2025-07-12 17:13:39.576 +03:00 [INF] Email sent successfully to josepharodi20@gmail.com
2025-07-12 17:13:39.579 +03:00 [INF] Payment confirmation email sent successfully for payment: REF099912
2025-07-12 17:13:58.508 +03:00 [INF] Generated access token for user S6600991 with 1 roles and 2 permissions
2025-07-12 17:13:58.566 +03:00 [INF] V3 GetStudentStats endpoint called
2025-07-12 17:13:58.573 +03:00 [INF] Current user: S6600991 (ID: 62)
2025-07-12 17:13:58.579 +03:00 [INF] User roles: Student, Student
2025-07-12 17:13:58.585 +03:00 [INF] User permissions: Payments.Read, Students.Read
2025-07-12 17:13:58.592 +03:00 [INF] Retrieving all students
2025-07-12 17:13:58.599 +03:00 [INF] Retrieving payments for student: S6600991
2025-07-12 17:13:58.608 +03:00 [INF] Student payments cached: S6600991
2025-07-12 17:13:58.612 +03:00 [INF] Found 2 payments for student S6600991, total paid: 45000.00
2025-07-12 17:13:58.619 +03:00 [INF] V3 GetStudentStats endpoint called
2025-07-12 17:13:58.625 +03:00 [INF] Current user: S6600991 (ID: 62)
2025-07-12 17:13:58.629 +03:00 [INF] User roles: Student, Student
2025-07-12 17:13:58.633 +03:00 [INF] User permissions: Payments.Read, Students.Read
2025-07-12 17:13:58.638 +03:00 [INF] Retrieving all students
2025-07-12 17:13:58.644 +03:00 [INF] Retrieving payments for student: S6600991
2025-07-12 17:13:58.649 +03:00 [INF] Student payments retrieved from cache: S6600991
2025-07-12 17:13:58.654 +03:00 [INF] Found 2 payments for student S6600991, total paid: 45000.00
2025-07-12 17:14:13.025 +03:00 [INF] V3 GetPaymentsByStudent endpoint called for student: S6600991
2025-07-12 17:14:13.032 +03:00 [INF] Calling payment service for student: S6600991
2025-07-12 17:14:13.040 +03:00 [INF] Retrieving payments for student: S6600991
2025-07-12 17:14:13.046 +03:00 [INF] Student payments retrieved from cache: S6600991
2025-07-12 17:14:13.052 +03:00 [INF] Payment service returned 2 payments for student: S6600991
2025-07-12 17:14:13.057 +03:00 [INF] Payment: ID=17, Ref=REF00991, Amount=25000.00, Student=S6600991
2025-07-12 17:14:13.064 +03:00 [INF] Payment: ID=18, Ref=REF099912, Amount=20000.00, Student=S6600991
2025-07-12 17:14:13.070 +03:00 [INF] AutoMapper converted to 2 DTOs
2025-07-12 17:14:13.074 +03:00 [INF] Final paged result: 2 items, Total: 2, Page: 1
2025-07-12 17:14:13.081 +03:00 [INF] V3 GetPaymentsByStudent endpoint called for student: S6600991
2025-07-12 17:14:13.085 +03:00 [INF] Calling payment service for student: S6600991
2025-07-12 17:14:13.090 +03:00 [INF] Retrieving payments for student: S6600991
2025-07-12 17:14:13.095 +03:00 [INF] Student payments retrieved from cache: S6600991
2025-07-12 17:14:13.099 +03:00 [INF] Payment service returned 2 payments for student: S6600991
2025-07-12 17:14:13.104 +03:00 [INF] Payment: ID=17, Ref=REF00991, Amount=25000.00, Student=S6600991
2025-07-12 17:14:13.109 +03:00 [INF] Payment: ID=18, Ref=REF099912, Amount=20000.00, Student=S6600991
2025-07-12 17:14:13.114 +03:00 [INF] AutoMapper converted to 2 DTOs
2025-07-12 17:14:13.119 +03:00 [INF] Final paged result: 2 items, Total: 2, Page: 1
